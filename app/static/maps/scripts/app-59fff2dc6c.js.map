{"version":3,"sources":["scripts/app.js"],"names":["config","$stateProvider","state","url","controller","templateUrl","$inject","angular","module","InstitutionDetailController","InstitutionService","InstitutionClassService","$stateParams","Toast","vm","this","get","institutionId","id","data","institution","element","errors","error","institutionClasses","elements","InstitutionController","$scope","WilayaService","Upload","API_ENDPOINT","loadCommunes","wilaya_id","wilayaId","selectedWilaya","addInstitution","console","log","save","message","onMapClicked","event","lat","latLng","lng","markers","latitude","longitude","getCoordinates","geocoder","google","maps","Geocoder","geocode","address","wilayas","name","communes","find","commune","commune_id","results","status","GeocoderStatus","OK","location","geometry","institution_image","AboutDialogController","$mdDialog","close","hide","serviceCard","SourceBlack","SourceBlue","restrict","replace","scope","selectedMarker","selectedMarkers","appMap","link","attrs","map","sourceBlack","hoverIn","$","css","hoverOut","showOnMap","prevMarker","marker","getVisible","setVisible","attr","getPosition","setCenter","LatLng","setZoom","showInfoWindow","indexOf","push","hideInfoWindow","index","length","splice","directive","soMap","institutions","atHome","destroyOnMapInitilized","$on","onMarkerClicked","evt","goolgeMap","$resource","method","isArray","update","institutionClassId","factory","HomeController","$mdSidenav","$filter","toggleSideNav","toggle","showSelectedInstitutions","selectedInstitutions","forEach","institutionClass","selectedInstitutionsId","includes","filterInstitutions","showSelectedWilayas","selectedWilayas","wilaya","selectedWilayasId","selectAll","value","i","showAll","allShowed","filteredInstitutions","showAboutDialog","show","controllerAs","parent","document","body","targetEvent","clickOutsideToClose","escapeToClose","added","limit","query","sourceBlue","Array","fill","slice","$mdToast","toastObject","toast","simple","action","highlightAction","hideDelay","position","fieldName","hasOwnProperty","textContent","service","run","IndexController","constant","$locationProvider","$urlRouterProvider","$mdThemingProvider","definePalette","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","contrastDefaultColor","theme","primaryPalette","html5Mode","hashPrefix","otherwise","$templateCache","put"],"mappings":"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","file":"scripts/app-59fff2dc6c.js","sourcesContent":["(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"home\", [])\r\n        .config(config);\r\n\r\n    function config($stateProvider) {\r\n        $stateProvider.state('home.institution', {\r\n            url: 'institution',\r\n            controller: 'InstitutionController as vmIns',\r\n            templateUrl: 'app/home/views/institution/institution.html'\r\n        }).state('home.institution_detail', {\r\n            url: 'institution/:id',\r\n            controller: 'InstitutionDetailController as vmIns',\r\n            templateUrl: 'app/home/views/institution-detail/institution-detail.html'\r\n        });\r\n    }\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"home\")\r\n        .controller(\"InstitutionDetailController\", InstitutionDetailController);\r\n\r\n    function InstitutionDetailController(InstitutionService, InstitutionClassService, $stateParams, Toast) {\r\n        var vm = this;\r\n\r\n        InstitutionService.get({ institutionId: $stateParams.id }, function(data) {\r\n            vm.institution = data.element;\r\n        }, function(errors) {\r\n            Toast.error(errors);\r\n        });\r\n\r\n        InstitutionClassService.get(function(data) {\r\n            vm.institutionClasses = data.elements;\r\n        }, function(errors) {\r\n            Toast.error(errors);\r\n        });\r\n    }\r\n})();\n(function() {\r\n    \"use strict\";\r\n\r\n    angular\r\n        .module(\"home\")\r\n        .controller(\"InstitutionController\", InstitutionController);\r\n\r\n    function InstitutionController($scope, InstitutionService, WilayaService, InstitutionClassService, Toast, Upload, API_ENDPOINT) {\r\n        var vm = this;\r\n        vm.institution = {};\r\n        vm.wilayas = [];\r\n        vm.markers = [];\r\n        vm.institutionClasses = [];\r\n        vm.selectedWilaya = [];\r\n        vm.institution_image = null;\r\n\r\n        WilayaService.get(function(data) {\r\n            vm.wilayas = data.elements;\r\n        }, function(errors) {\r\n            Toast.error(errors);\r\n        });\r\n\r\n        InstitutionClassService.get(function(data) {\r\n            vm.institutionClasses = data.elements;\r\n        }, function(errors) {\r\n            Toast.error(errors);\r\n        });\r\n\r\n\r\n        vm.loadCommunes = loadCommunes;\r\n        vm.addInstitution = addInstitution;\r\n        vm.getCoordinates = getCoordinates;\r\n        vm.onMapClicked = onMapClicked;\r\n\r\n        function loadCommunes() {\r\n            if (vm.institution && vm.institution.wilaya_id) {\r\n                return WilayaService.get({ wilayaId: vm.institution.wilaya_id }, function(data) {\r\n                    vm.selectedWilaya = data.element;\r\n                });\r\n            }\r\n        }\r\n\r\n        function addInstitution() {\r\n            console.log(vm.institution);\r\n            InstitutionService.save(vm.institution, function(data) {\r\n                // uploadInstitutionFile(vm.institution_image,data.element.id)\r\n                Toast.message(\"L'institution en attente de validation, On vous remercie.\");\r\n            }, function(errors) {\r\n                Toast.error(errors);\r\n            });\r\n        }\r\n\r\n        function onMapClicked(event) {\r\n            var lat = event.latLng.lat();\r\n            var lng = event.latLng.lng();\r\n            vm.markers = [{\r\n                id:0,\r\n                lat: lat,\r\n                lng: lng\r\n            }];\r\n            vm.institution.latitude = lat;\r\n            vm.institution.longitude = lng;\r\n        }\r\n\r\n        // TODO Must Improve this function\r\n        function getCoordinates() {\r\n            if (!vm.geocoder) vm.geocoder = new google.maps.Geocoder();\r\n            vm.geocoder.geocode({\r\n                    'address': vm.wilayas[vm.institution.wilaya_id-1].name + \", \" +\r\n                        vm.selectedWilaya.communes.find(function(commune) { return commune.id === vm.institution.commune_id }).name\r\n                },\r\n                function(results, status) {\r\n                    if (status == google.maps.GeocoderStatus.OK) {\r\n                        var location = results[0].geometry.location;\r\n                        vm.institution.latitude = location.lat();\r\n                        vm.institution.longitude = location.lng();\r\n                        vm.markers = [{\r\n                            id:0,\r\n                            lat:vm.institution.latitude,\r\n                            lng:vm.institution.longitude\r\n                        }];\r\n                        Toast.message(\"veuillez vérifier si l'adresse est correcte, sinon modifier la sur la map\");\r\n                    } else {\r\n                        Toast.error(\"Cette adresse est introuvable!, veuillez la rechercher sur la map\");\r\n                    }\r\n                });\r\n        }\r\n\r\n        function uploadInstitutionFile(file, institutionId) {\r\n            vm.file = file;\r\n            Upload.upload({\r\n                url: API_ENDPOINT + 'uploads/' + institutionId,\r\n                data: { file: file }\r\n            }).then(function(resp) {\r\n                Toast.message(\"L'image de l'institution a été téléchargé avec succé.\");\r\n            }, function(resp) {\r\n                Toast.message(\"Echec téléchargement d'image de l'institution.\");\r\n            }, function(evt) {\r\n                vm.progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\r\n            });\r\n        }\r\n    }\r\n})();\n(function() {\r\n    \"use strict\";\r\n\r\n    angular\r\n        .module(\"somap\", [\r\n            \"ngResource\",\r\n            \"ngMessages\",\r\n            \"ngMap\",\r\n            \"ngMaterial\",\r\n            \"ngAria\",\r\n            \"ngAnimate\",\r\n            'ui.router',\r\n            'ngFileUpload',\r\n\r\n            //costum modules\r\n            \"home\" \r\n        ]);\r\n})();\n(function(){\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"somap\")\r\n        .controller(\"AboutDialogController\",AboutDialogController);\r\n\r\n    function AboutDialogController($mdDialog){\r\n        var vm = this;\r\n\r\n        vm.close = close;\r\n\r\n        function close(){\r\n            $mdDialog.hide();\r\n        }\r\n    }\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"home\")\r\n        .directive(\"serviceCard\", serviceCard);\r\n\r\n    function serviceCard(SourceBlack, SourceBlue) {\r\n        return {\r\n            restrict: 'E',\r\n            replace: true,\r\n            templateUrl: 'app/home/components/service-component/service-component.html',\r\n            scope: {\r\n                selectedMarker: '=',\r\n                selectedMarkers: \"=\",\r\n                appMap: '=',\r\n                institution: '=',\r\n                institutionClasses: '=',\r\n                wilayas: \"=\"\r\n            },\r\n            link: function(scope, element, attrs) {\r\n                scope.map = scope.appMap;\r\n                scope.sourceBlack = SourceBlack;\r\n                scope.hoverIn = function(institution) {\r\n                    if ($('#contact' + institution.id).css(\"display\") === \"none\")\r\n                        $('#button' + institution.id).css(\"backgroundColor\", \"#F2F2F2\");\r\n                };\r\n\r\n                scope.hoverOut = function(institution) {\r\n                    if ($('#contact' + institution.id).css(\"display\") === \"none\")\r\n                        $('#button' + institution.id).css(\"backgroundColor\", \"WHITE\");\r\n                };\r\n\r\n                scope.showOnMap = function(event, institution) {\r\n                    var marker = scope.map.markers[institution.id];\r\n                    var lng, lat, prevMarker;\r\n                    scope.selectedMarker = institution;\r\n                    if (scope.map.markers[institution.id].getVisible() == false) {\r\n\r\n                        scope.map.markers[institution.id].setVisible(true);\r\n                        $('#button' + institution.id).css(\"backgroundColor\", \"#F2F2F2\");\r\n                        $('#image' + institution.id).attr(\"src\", SourceBlue);\r\n                        $('#contact' + institution.id).css(\"display\", \"block\");\r\n                        $('#meaning' + institution.id).css(\"display\", \"block\");\r\n\r\n                        lng = marker.getPosition().lng();\r\n                        lat = marker.getPosition().lat();\r\n                        scope.map.setCenter(new google.maps.LatLng(lat, lng));\r\n                        scope.map.setZoom(13);\r\n                        scope.map.showInfoWindow(event, 'myInfoWindow', marker);\r\n\r\n                        if (scope.selectedMarkers.indexOf(institution.id) === -1) {\r\n                            scope.selectedMarkers.push(institution.id);\r\n                        }\r\n                    } else {\r\n                        scope.map.markers[institution.id].setVisible(false);\r\n                        $('#button' + institution.id).css(\"backgroundColor\", \"WHITE\");\r\n                        $('#image' + institution.id).attr(\"src\", SourceBlack);\r\n                        $('#contact' + institution.id).css(\"display\", \"none\");\r\n                        $('#meaning' + institution.id).css(\"display\", \"none\");\r\n                        scope.map.hideInfoWindow(event, 'myInfoWindow', marker);\r\n                        scope.selectedMarker = null;\r\n\r\n                        var index = scope.selectedMarkers.indexOf(institution.id);\r\n                        if (index > -1) {\r\n                            if (index === scope.selectedMarkers.length - 1) {\r\n                                if (scope.selectedMarkers.length > 1) {\r\n                                    scope.map.markers[scope.selectedMarkers[index - 1]].setVisible(true);\r\n                                    lng = prevMarker.getPosition().lng();\r\n                                    lat = prevMarker.getPosition().lat();\r\n                                    scope.map.setCenter(new google.maps.LatLng(lat, lng));\r\n                                    scope.map.setZoom(13);\r\n                                    scope.map.showInfoWindow(event, 'myInfoWindow', prevMarker);\r\n                                }\r\n                            }\r\n\r\n                            scope.selectedMarkers.splice(index, 1);\r\n                            if (scope.selectedMarkers.length === 0) {\r\n                                scope.map.setCenter(new google.maps.LatLng(32, 2));\r\n                                scope.map.setZoom(6);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    }\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"home\")\r\n        .directive(\"soMap\", soMap);\r\n\r\n    function soMap() {\r\n        return {\r\n            restrict: 'E',\r\n            replace: true,\r\n            templateUrl: 'app/home/components/map-component/map-component.html',\r\n            scope: {\r\n                selectedMarker: '=',\r\n                institutions: '=',\r\n                institutionClasses: '=',\r\n                atHome: \"=\",\r\n            },\r\n            link: function(scope, element, attrs) {\r\n                var goolgeMap;\r\n                scope.$on('mapInitialized', function(event, map) {\r\n                    goolgeMap = map;\r\n                    destroyOnMapInitilized();\r\n                });\r\n\r\n                function destroyOnMapInitilized(){\r\n                    scope.$on('mapInitialized', function(event, map) {\r\n                        return;\r\n                    });\r\n                }\r\n\r\n \r\n                scope.onMarkerClicked = onMarkerClicked;\r\n                scope.onMapClicked = onMapClicked;\r\n\r\n                function onMarkerClicked(evt, marker) {\r\n                    goolgeMap.showInfoWindow(evt, 'myInfoWindow', goolgeMap.markers[marker.id]);\r\n                }\r\n\r\n                function onMapClicked(event) {\r\n                    // hide the infowindow if it is visible\r\n                    if (scope.selectedMarker != null) {\r\n                        goolgeMap.hideInfoWindow(event, 'myInfoWindow', scope.selectedMarker);\r\n                        scope.selectedMarker = null;\r\n                        goolgeMap.setCenter(new google.maps.LatLng(32, 2));\r\n                        goolgeMap.setZoom(6);\r\n                    } \r\n                }\r\n            } \r\n        }\r\n    }\r\n\r\n\r\n})();\n(function(){\r\n    \"use strict\";\r\n\r\n    angular\r\n        .module(\"home\")\r\n        .factory(\"InstitutionService\",InstitutionService)\r\n        .factory(\"InstitutionClassService\",InstitutionClassService)\r\n        .factory(\"WilayaService\",WilayaService);\r\n\r\n    function InstitutionService($resource, API_ENDPOINT){\r\n        return $resource(API_ENDPOINT + 'institutions/:institutionId', {institutionId: '@id'},{\r\n            'get':{\r\n                method: 'GET',\r\n                isArray: false\r\n            },\r\n            'update' :{\r\n                method :'PUT'\r\n            }\r\n        });\r\n    }\r\n\r\n    function InstitutionClassService($resource, API_ENDPOINT){\r\n        return $resource(API_ENDPOINT + 'institution_classes/:institutionClassId', {institutionClassId: '@id'},{\r\n            'get':{\r\n                method: 'GET',\r\n                isArray: false\r\n            },\r\n            'update' :{\r\n                method :'PUT'\r\n            }\r\n        });\r\n    }\r\n\r\n    function WilayaService($resource, API_ENDPOINT){\r\n        return $resource(API_ENDPOINT + 'wilayas/:wilayaId', {wilayaId: '@id'},{\r\n            'get':{\r\n                method: 'GET',\r\n                isArray: false\r\n            }\r\n        });\r\n    }\r\n})();\n(function() {\r\n    \"use strict\";\r\n\r\n    angular\r\n        .module(\"home\")\r\n        .controller(\"HomeController\", HomeController);\r\n\r\n    function HomeController($scope, $mdDialog, WilayaService, InstitutionClassService,\r\n        InstitutionService, SourceBlack, SourceBlue, Toast, $mdSidenav, $filter) {\r\n        var vm = this;\r\n\r\n        vm.sourceBlack = SourceBlack;\r\n        vm.sourceBlue = SourceBlue;\r\n        vm.institutions = [];\r\n        vm.institutionClasses = [];\r\n        vm.selectedInstitutions = [];\r\n        vm.wilayas = [];\r\n        vm.selectedWilayas = [];\r\n        vm.selectedMarkers = [];\r\n        vm.selectedInstitutionsId = [];\r\n        vm.selectedWilayasId = [];\r\n        vm.filteredInstitutions = [];\r\n        vm.query = \"\";\r\n        vm.atHome = true;\r\n        vm.limit = 20;\r\n        vm.showAll = showAll;\r\n\r\n        $scope.$on('mapInitialized', function(event, map) {\r\n            vm.map = map;\r\n            destroyOnMapInitilized();\r\n        });\r\n\r\n        // fetch Data from server\r\n        InstitutionClassService.get(function(data) {\r\n            vm.institutionClasses = data.elements;\r\n            vm.selectedInstitutions = new Array(vm.institutionClasses.length).fill(true);\r\n            vm.selectedInstitutionsId = vm.institutionClasses.map(function(institutionClass) {\r\n                return institutionClass.id;\r\n            });\r\n        }, function(errors) {\r\n            Toast.error(errors);\r\n        });\r\n\r\n        WilayaService.get(function(data) {\r\n            vm.wilayas = data.elements;\r\n            vm.selectedWilayas = new Array(vm.wilayas.length).fill(true);\r\n            vm.selectedWilayasId = vm.wilayas.map(function(institutionClass) {\r\n                return institutionClass.id;\r\n            });\r\n        }, function(errors) {\r\n            Toast.error(errors);\r\n        });\r\n\r\n        InstitutionService.get(function(data) {\r\n            vm.institutions = data.elements;\r\n            vm.filteredInstitutions = vm.institutions.slice(0, vm.limit);\r\n        }, function(errors) {\r\n            Toast.error(errors);\r\n        });\r\n\r\n        vm.selectAll = selectAll;\r\n        vm.showAboutDialog = showAboutDialog;\r\n        vm.showSelectedInstitutions = showSelectedInstitutions;\r\n        vm.showSelectedWilayas = showSelectedWilayas;\r\n        vm.toggleSideNav = toggleSideNav;\r\n        vm.filterInstitutions = filterInstitutions;\r\n\r\n        function destroyOnMapInitilized(){\r\n            $scope.$on('mapInitialized', function(event, map) {\r\n                return;\r\n            });\r\n        }\r\n\r\n        function toggleSideNav() {\r\n            $mdSidenav('left').toggle();\r\n        }\r\n\r\n        function showSelectedInstitutions() {\r\n            vm.selectedInstitutions.forEach(function(institutionClass, index) {\r\n                vm.selectedInstitutions[index] = vm.selectedInstitutionsId.includes(index + 1);\r\n            });\r\n            filterInstitutions();\r\n        }\r\n\r\n        function showSelectedWilayas() {\r\n            vm.selectedWilayas.forEach(function(wilaya, index) {\r\n                vm.selectedWilayas[index] = vm.selectedWilayasId.includes(index + 1);\r\n            });\r\n            filterInstitutions();\r\n        }\r\n\r\n\r\n        function selectAll(value) {\r\n            if(value){\r\n                vm.selectedWilayasId = vm.wilayas.map(function(institutionClass) {\r\n                    return institutionClass.id;\r\n                });\r\n            }else{\r\n                vm.selectedWilayasId = [];\r\n            }\r\n            for (var i = 0; i < vm.selectedWilayas.length; i++) {\r\n                vm.selectedWilayas[i] = value;\r\n            }\r\n            filterInstitutions();\r\n        }\r\n\r\n        function showAll(){\r\n            vm.allShowed = !vm.allShowed;\r\n            vm.filteredInstitutions.forEach(function(institution){\r\n                vm.map.markers[institution.id].setVisible(vm.allShowed);\r\n            })\r\n        }\r\n\r\n        // Dialogs Section\r\n        function showAboutDialog(event) {\r\n            $mdDialog.show({\r\n                controller: \"AboutDialogController\",\r\n                controllerAs: \"aboutVm\",\r\n                templateUrl: 'app/home/dialogs/about-dialog/about-dialog.html',\r\n                parent: angular.element(document.body),\r\n                targetEvent: event,\r\n                clickOutsideToClose: true,\r\n                escapeToClose: true\r\n            });\r\n        }\r\n\r\n        function filterInstitutions(added){ \r\n            if (!added) {vm.limit = 20;}\r\n            vm.filteredInstitutions = $filter('filter')(vm.institutions, function(marker) {\r\n                return vm.selectedInstitutions[(marker.class_id) - 1];\r\n            });\r\n            vm.filteredInstitutions = $filter('filter')(vm.filteredInstitutions, function(marker) {\r\n                return vm.selectedWilayas[(marker.wilaya_id) - 1];\r\n            });\r\n            if (vm.query !== \"\"){\r\n                vm.filteredInstitutions = $filter('filter')(vm.filteredInstitutions, vm.query);\r\n            }\r\n            vm.filteredInstitutions = $filter('limitTo')(vm.filteredInstitutions, vm.limit);\r\n            return vm.filterInstitutions;\r\n        }\r\n    }\r\n})();\n(function(){\r\n    \"use strict\";\r\n\r\n    angular\r\n        .module(\"somap\")\r\n        .service(\"Toast\",Toast)\r\n\r\n    function Toast($mdToast){\r\n        var toastObject = {}\r\n        var toast = $mdToast.simple()\r\n            .action('Fermer')\r\n            .highlightAction(true)\r\n            .hideDelay(5000)\r\n            .position(\"bottom left\");\r\n\r\n        toastObject.error = function(errors){\r\n            switch (errors.status){\r\n                case 400:\r\n                    for (var fieldName in errors.data['form_errors']) {\r\n                        if (errors.data['form_errors'].hasOwnProperty(fieldName)) {\r\n                            toast.textContent(errors.data['form_errors'][fieldName][0]);\r\n                            $mdToast.show(toast);\r\n                            break;\r\n                        }\r\n                    }\r\n                break;\r\n                case 404:\r\n                    toast.textContent(\"Le contenu que vous avez demandé n'existe pas\");\r\n                    $mdToast.show(toast);\r\n                break;\r\n                case 401:\r\n                    toast.textContent(\"Vous n'avez pas le droit d'effectuer cette opération.\");\r\n                    $mdToast.show(toast);\r\n                break;\r\n                default:\r\n                    toast.textContent(\"Service inaccessible pour le moment.\");\r\n                    $mdToast.show(toast);\r\n                break;\r\n            }\r\n        }\r\n\r\n        toastObject.message = function(message){\r\n            toast.textContent(message);\r\n            $mdToast.show(toast);\r\n        }\r\n\r\n        return toastObject;\r\n    }\r\n})();\n(function(){\r\n    \"use strict\";\r\n\r\n    angular\r\n        .module(\"somap\")\r\n        .run(run);\r\n\r\n    function run(){\r\n        \r\n    }\r\n})();\n(function(){\r\n    \"use strict\";\r\n    \r\n    angular\r\n        .module(\"somap\")\r\n        .controller(\"IndexController\",IndexController);\r\n\r\n    function IndexController(){\r\n        var vm = this;\r\n    }\r\n})();\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('somap')\r\n        .constant('API_ENDPOINT', 'http://localhost:5000/api/')\r\n        .constant('SourceBlack',\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE7UlEQVR4Xt2b3XEcNwzHiW3A7iByBZYrsFJB5Ari5epdSgWRK4j0ruU6FUSuIFIFUSqI0oHTAJH527yZ9c0tCYDcu0s4oxcdjyR+BPFB8MjtoU3TdMLMb5n5lIhOnXMn6W8++7Nz7pmZn4gIf4993+N/qzZaa3QIHWO8JKLzHcJKpwWQ+67rbteC0RzANE1nzPyzc+5MKqWw3wMRfej7/kHYX9StGYCk5tMKgm8LAhB9K41oAmCapktmvhEhb9PpMxFd931/WztcFYBpml7GGKd0zmvXov5+sg/Qhs/qL6cvmAEklf/NOQerfsgGj/G9FYIJwDRNp8z8u3Pu5SEln82NIwEIT9r1qAFA7Zn5jwrXpl2jtL9JE9QAQggQ/tBqvwTlyXv/RkoM/VQAQgiw9JeaCQ7Q99Z7fyWdVwwgBTg490ffkj0QBUwiAEd87pc249l7/0qyUyIA4zheExHC2+rGzH8T0QMzf0l+0oAnRISE6YyIvquexDnHzB+GYbgujVUEkHb/rwYu75GIrkquKrlY2Jq3pcUXPodrfFWKD4oAxnG8IqJfrIth5n+6rjvXJjGwOTHGeyJ6UTH3T8MwZEP0IoAQAnYf+bu6MfOfXdedlXZhaeAUaiP5ea2e/OsXim4xCyCpI/y+utUKv5mwFgIRvckduywAq/FLao+dV4emu0hjI2KM0AT1cSgZwyyAEAJ8qdoYlSZVq5NzzroZzrlH7/3i5UwJAGsXCzfXdd2p9dwX7MGzRQu894tyLn5Qcf5VoagGsDUUT+5w5wVrDgDu9tShryYM1QiPvnd3d+dd1+EOQtVya1oEYPX/OXVTrXqhcwjBciz7YRg+7hoyB8AU/h4pgMWwuDUAcRJi1QZLYJbzSq0BuCPVgMWQuLkRPEYAJiNovQCJMb67uLi4t6p47nt79QJHGgfAkv+ohWuKAzCJxeU450R5uFYI670EItNhGBaz2VIo/H/IBT5571Gh3tlWyQaTFpgKFUvZoLUQw8zZS5EsAKvRSUIgcUEubq7bYZzaC9nc+cf4xRuhcRxxptV5eIKAas07aym7tv6IS5lhGLJFnCKAEILJ8s5UGQABQXRPP7sJQjKGxMdcfyypv0gDKo/B/EgDwI33/lPOA4QQfnDOobJT/cKkpP4iAOg0jiPOc5P7ehjIVNf/Jj+PMaI2AGtt3vEtsL9679+X3G3xCCQA74kIz1/+M02y+2INSBBqjOG+wYl2XwvAdD+wb8m/CPW1IiR6Yyg6AhshGtuCtdio7iRVABp6hFWET/WIE03wpQKAVVtrBatIvDWoxO9vr0MNID2BRYRnjQ7XYpFNepYmVQNIHqGqYtyagEX1N2swATi2o1BzC2UGkKq2plJVYw1QWf1qGzAfwHpv2AqAJNsrzWXWgFlscBB7kM49irCigKepEdwerEHKXNqobz5v+f6gWgNmmgDXaH3KogWwWOtTDSS5EZIOWPuURToPMzcTXpUMSRa4BwjiLE+y3uYAMOCKkWJz4VcBkCCYHzUt7Nwqwq8GYAbhYwPDuJrwqwJIEPCbopqHjqsKvzqASghVIe7BjOCuiVN1B292RZXd1q4uB6NZICQhXnrmhggPNYGlB02SObR99goAixvHEXf1N9sXKi3DWw2EvQPY5SFaPazWCL7pexAAG+O4+blt+iFFVRXZIjy+8y9B8M9f9tzoZwAAAABJRU5ErkJggg==\")\r\n        .constant('SourceBlue',\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFJElEQVR4Xt2af3IaNxTHv4+6zXSGpb5BlxMUnyD4BLVPUPvPQGZMThDnBMYzBf8Z9wQmJwg5gekJrNzAZpnJ4Ka8jnYhxoRdSU9aYOr/PGglvY/eb4mwgb/46ksM/vclwA0ADYBjAsXLSzNYAaQAjAAagX74pF79rP8v9Y/Kmj0T+usZwEerwtquOYcyAO1dlgUjOID4KmmC8ZaApq2gNuMYGILwTr2KhjbjbccEAzA/8fehBV8VJAOxdxpKI4IAiHuTMyLu2lL3HcfM90DlXLWrl75zeQGIL3gfLyb61I98NyL5noEBptVT9YbuJd/rb8QAUpWffb0h0l59e3/MGOGxeiiFIAIQ9yYNYPaRiPa3J/rTynOTOFTt6sh1P84AMrVPbqWhzXWDtuOlmuAOoJfcblvt86BoCKodHdhCc/YBcS/pEuHMZYFNj2XGpWpHHdt1rTVAJzjE+Gg78TbHMeHQNmGyArCrdp9rCmClWrW6zSHYAegl50R4azOhcQzzZyYMwbrwSYsf6OIIxDExmiD61TiHxQBmvFPt6Nw01AggPf2fkjvfkMfAJzB1TKEqDbHEXQJemjZf9HsaGh+juik/MAPoTzoEvpBvhh+Y6MjWJhfrZD6HBwD9Il2bQW9Uq1qYolsAGN9JYz4Df2NabZpOIU/Aeao9JOA3CQSbsFgIQKsjEd+KFvcU/psmZPWGBwQ6KDI7AwCp8+MH5krTZO+2YLODmA0l5mByhsUA+okm7+yMTIvaCr48LhZGIu18VSvKbc4UAqj3E3berA5zj1FDavdF/oBeJDp0OjvFu1aUK2fuD1L7d01FXQBLU3GmvXpeBykfgDD1dUlDXYTXY+P+WDdYb1y/K9pTPgBh/C9SN9eNrxsvMUtmOlXt6vW6+QpMQBYBdhNAflocFIDu49sWIVJtiPvuiVlRVAoKQAu1kxpQkBIHd4I7CaCgPxAcAIOPVas2kKp40XebjQLCOqDUPKA/vibQH65wRXmAXkQWcuzqcFchxH0J5s937dqzm+jltf//tQDjg2pHuTdXpVSDPhcV6zTD5yLG1BQxaIAs9dRCpHf70+jAtyjybcgW2b/ep7EjVO+P7yUVWApB39tV9o6lV9m+94+6I6VaUeHdpRFALPS8C1VOzaFCx5KeIGZ849OMNam/lQZIY++qLacPG2bcVa9rHwpj/Z/j31GhToiHFib1twKQhsPeWIXr1+vHDRigsrgTmOOYsQ5VRz4nvgyWwX+pVu3EFG6NJpDW4b3JCRG/N022S7/bnL61BmRJkdwZbhqM7ek7AZA2JTctfBp9Clpgq/uxMoHFRyF9QVlgXGsRJwChIkJZwgP8wNModkm+nACkDlF4V1Ce0E8z28R9LxNIAVx9iYn/0e95nfvzZUJgQ9GTt7azBmRa4HtjHBqFu+ovdiACsGum4NOFkgO44H3pVVXI83f1+t4+YHmCbT+csqn2TLDFGrCYeHv+QL88+bEhLbW9fcAzTfAsmU2n9P3v4d4feGvAkyYkI+lTFlcARXd9rnOFA+D5lMV24yGFdyqGbDbo+6jJtIZLlWeaK6gPeB4ZyskUyxA+uAZ88wcej5rWnVxZwpcGIM0Usxef176OsUzhSwWQQvB0jGULXzoAHwi+Ke7WnOC6hee3O13bm93Qoa4IRrA8wIa4+ZlbmuHpF+VrHzTZrOE6ZqMA5s7xhGjW/b6hEi69dYGwcQDrIoTvq3IXgVfHbgXAk3NMsrf806jj0sj0EXj12/8A7IjAX6I9VzEAAAAASUVORK5CYII=\");\r\n\t\t\r\n})();\n(function() {\r\n    \"use strict\";\r\n\r\n    angular\r\n        .module(\"somap\")\r\n        .config(config);\r\n\r\n    function config($stateProvider, $locationProvider, $urlRouterProvider, $mdThemingProvider) {\r\n        $mdThemingProvider.definePalette('amazingPaletteName', {\r\n            '50': '2C303A',\r\n            '100': '2C303A',\r\n            '200': '2C303A',\r\n            '300': '2C303A',\r\n            '400': '2C303A',\r\n            '500': '2C303A',\r\n            '600': '2C303A',\r\n            '700': '2C303A',\r\n            '800': '2C303A',\r\n            '900': '2C303A',\r\n            'A100': '2C303A',\r\n            'A200': '2C303A',\r\n            'A400': '2C303A',\r\n            'A700': '2C303A',\r\n            'contrastDefaultColor': 'light',\r\n        });\r\n\r\n        $mdThemingProvider.theme('default').primaryPalette('amazingPaletteName');\r\n\r\n\r\n\r\n        $locationProvider.html5Mode(true).hashPrefix('!');\r\n        $stateProvider.state('home', {\r\n            url: '/',\r\n            controller: 'HomeController as vm',\r\n            templateUrl: 'app/home/home.html'\r\n        });\r\n        $urlRouterProvider.otherwise('/'); // we can use 404 page\r\n\r\n        // angular-translate configuration\r\n        // inject these: $translateProvider, $translatePartialLoaderProvider\r\n        // $translateProvider.useLoader('$translatePartialLoader', {\r\n        //     urlTemplate: '{part}/i18n/{lang}.json'\r\n        // });\r\n\r\n        // $translateProvider.preferredLanguage('ar');\r\n        // // $translateProvider.useSanitizeValueStrategy('sanitize');\r\n        // $translatePartialLoaderProvider.addPart('app');\r\n    }\r\n})();\nangular.module(\"somap\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/home/home.html\",\"<md-toolbar md-whiteframe=4 style=\\\"height: 50px !important;min-height: 40px\\\"><div class=md-toolbar-tools style=padding-left:5px><!--<button class=\\\"btn\\\" ng-click=\\\"vm.openned = !vm.openned\\\"> \\r\\n            <i class=\\\"glyphicon glyphicon-align-justify\\\"></i>\\r\\n        </button>--><md-truncate style=\\\"width: 30%\\\" md-whiteframe=4><div class=input-group layout-fill layout=row style=\\\"border-radius: 2px\\\"><input style=\\\"border-radius: 2px\\\" ng-change=vm.filterInstitutions() type=text class=form-control placeholder=\\\"Recharcher ...\\\" style=border:0 ng-model=vm.query ng-model-options=\\\"{ debounce: 250 }\\\"></div></md-truncate><div layout-fill layout=row layout-align=\\\"space-between center\\\"><md-button ng-click=vm.showAll()>{{ !vm.allShowed ? \\'Afficher Tout\\' : \\'Cacher Tout\\' }}</md-button><md-button ui-sref=home.institution ui-sref-opts=\\\"{location: false}\\\" ng-click=\\\"vm.atHome=false\\\">Ajouter une Institution</md-button></div></div></md-toolbar><!--ng-controller=\\\"AppCtrl\\\" --><div layout=column ng-cloak style=\\\"height: calc(100% - (50px))\\\"><section layout=row flex><md-sidenav class=md-sidenav-left md-component-id=left md-is-locked-open=\\\"$mdMedia(\\'gt-md\\') || vm.openned\\\"><md-toolbar style=\\\"z-index: 100; font-size:15px\\\" class=sidenav-toolbar><div layout=row layout-align=space-around><span layout=column layout-align=center>Filtres:</span><md-input-container><label>Institutions</label><md-select ng-model=vm.selectedInstitutionsId ng-change=vm.showSelectedInstitutions() md-selected-text=\\\"(vm.selectedInstitutionsId.length)+\\' Institutions\\'\\\" multiple><md-optgroup label=\\\"Types d\\'institution\\\"><md-option ng-value=institutionClasse.id ng-repeat=\\\"institutionClasse in vm.institutionClasses\\\" style=\\\"text-transform: capitalize\\\">{{institutionClasse.denomination}}</md-option></md-optgroup></md-select></md-input-container><md-input-container><label>Wilayas</label><md-select ng-model=vm.selectedWilayasId md-selected-text=\\\"(vm.selectedWilayasId.length)+\\' Wilayas\\'\\\" ng-change=vm.showSelectedWilayas() multiple><md-select-header><md-button ng-click=vm.selectAll(true)>Tout</md-button><md-button ng-click=vm.selectAll(false)>Aucun</md-button></md-select-header><md-optgroup label=wilaya><md-option ng-value=wilaya.id ng-repeat=\\\"wilaya in vm.wilayas\\\" style=\\\"text-transform: capitalize\\\">{{wilaya.name}}</md-option></md-optgroup></md-select></md-input-container></div></md-toolbar><!--ng-controller=\\\"LeftCtrl\\\"--><md-content ng-init=vm.filterInstitutions()><div ng-repeat=\\\"institution in vm.filteredInstitutions\\\"><service-card selected-marker=vm.selectedMarker app-map=vm.map institution=institution selected-markers=vm.selectedMarkers institution-classes=vm.institutionClasses wilayas=vm.wilayas></service-card></div><md-button style=\\\"display: block; width: 95%; text-align: center\\\" class=\\\"md-raised md-primary\\\" ng-hide=\\\"vm.limit > vm.filteredInstitutions.length\\\" ng-click=\\\"vm.limit = vm.limit + 10; vm.filterInstitutions(true)\\\">Affichier Plus...</md-button></md-content></md-sidenav><md-content flex><a ng-click=\\\"vm.atHome=true\\\" class=\\\"btn btn-default return-button\\\" ng-if=!vm.atHome>Retourner vers la Map</a><div ui-view layout=row layout-align=\\\"center center\\\" ng-if=!vm.atHome></div><div layout=row ng-show=vm.atHome><so-map at-home=vm.atHome selected-marker=vm.selectedMarker institution-classes=vm.institutionClasses institutions=vm.filteredInstitutions></so-map></div></md-content></section></div>\");\n$templateCache.put(\"app/home/components/map-component/map-component.html\",\"<div id=MapContainer><div id=map-canvas><map center=\\\"32, 2\\\" zoom=6 on-click=onMapClicked(event) style=\\\"height: 100%\\\"><marker ng-repeat=\\\"marker in institutions\\\" id={{marker.id}} ng-click=\\\"onMarkerClicked(event, marker)\\\" position=\\\"{{marker.position.lat+\\',\\'+marker.position.lng}}\\\" title={{marker.denomination}} icon={{institutionClasses[marker.class_id].icon_url}} visible></marker><info-window id=myInfoWindow max-width=500 style=\\\"text-transform: capitalize\\\"><div id=iw-container ng-non-bindable><div class=iw-title layout=row layout-align=\\\"space-between center\\\"><span>{{ selectedMarker.denomination }}</span><md-button ng-click=\\\"atHome=false\\\" ui-sref=home.institution_detail({id:selectedMarker.id}) ui-sref-opts=\\\"{location: false}\\\">Afficher Détails</md-button></div><div class=iw-content><div class=iw-subTitle>{{ institutionClasses[selectedMarker.class_id].denomination }}</div><p>{{ selectedMarker.description }}</p><div class=iw-subTitle>Contacts</div><p>Adresse: {{ selectedMarker.wilaya }}, {{ selectedMarker.commune.name }}, {{ selectedMarker.address }}<br><br>Téléphone: {{ selectedMarker.phone }}<br>Fax: {{ selectedMarker.fax }}</p></div></div></info-window></map></div></div>\");\n$templateCache.put(\"app/home/components/service-component/service-component.html\",\"<div data-toggle=tooltip data-placement=bottom title=\\\"Afficher dans la map\\\" class=institution ng-click=\\\"showOnMap(evt, institution)\\\" ng-mouseover=hoverIn(institution) ng-mouseleave=hoverOut(institution)><img role=button href=\\\"\\\" id=image{{institution.id}} align=right ng-src={{sourceBlack}} style=\\\"cursor: pointer;margin: 5px;position: absolute;right: 0;z-index: 1;max-height: 36px;max-width: 36px\\\"><div class=btn role=button id=button{{::institution.id}} href=\\\"\\\" style=\\\"position: relative;\tbox-shadow: 0px 1px 5px #888888;background-color: white;\\r\\n                border-color: white;border-radius: 10px;text-align: start;width: 100%;white-space: normal\\\"><h5 align=left style=\\\"display: inline-block;font-weight: bold; color: #2d6ca2;margin-right: 36px;\\r\\n            text-transform: capitalize\\\" href=\\\"\\\">{{::institution.denomination}}</h5><h5 id=meaning{{::institution.id}} align=left style=\\\"display: none;color: black;text-transform: capitalize\\\">{{::institutionClasses[institution.class_id-1].denomination}}</h5><div><p><span style=\\\"color: black;text-transform: capitalize\\\">{{::institution.wilaya}}, {{::institution.commune.name}}, {{::institution.address}}</span> <span id=contact{{::institution.id}} style=\\\"display: none;color: black\\\">{{::institution.phone}}</span></p></div></div></div>\");\n$templateCache.put(\"app/home/dialogs/about-dialog/about-dialog.html\",\"<md-dialog aria-label=\\\"Apropos de SoMap et nous\\\" style=top:20px><md-toolbar style=\\\"background-color:rgba(44, 48, 58, 0.9)\\\"><div class=md-toolbar-tools><h2>Apropos de SoMap et nous</h2><span flex></span><md-button class=md-icon-button ng-click=aboutVm.close()><span class=\\\"glyphicon glyphicon-remove\\\"></span></md-button></div></md-toolbar><md-dialog-content><div class=md-dialog-content style=padding:0><div id=carousel-id class=\\\"carousel slide\\\" data-ride=carousel style=\\\"height:450px; max-width:800px\\\"><ol class=carousel-indicators><li data-target=#carousel-id data-slide-to=0 class=active></li><li data-target=#carousel-id data-slide-to=1></li><li data-target=#carousel-id data-slide-to=2></li></ol><div class=carousel-inner><img alt=\\\"First slide\\\" src=assets/images/background.png style=width:100%><div class=item><div class=container><div class=carousel-caption style=text-align:center><h1>SoMap</h1><p>SoMap est né d’une collaboration entre l’Ecole Supérieure d’Informatique d’Alger, et l’UNICEF, dans le cadre du projet InnovationLab. SoMap a été développé par une équipe d’étudiants motivés et engagés. Cette dernière compte Djallel Bouisri, Zoubida Ferkani, Mohamed Handaoui, et Mohamed Mancef Bekdouche.</p></div></div></div><div class=item><div class=container><div class=carousel-caption style=text-align:center><h1 class=Membre style=\\\"color: #1E90FF\\\">LES MEMBRES DE l\\'EQUIPE</h1><li class=Membre>Djallel Ahmed BOUISRI</li><li class=Membre>FERKANI Zoubida</li><li class=Membre>BEKDOUCHE MANCEF Mohamed</li><li class=Membre>HANDAOUI Mohamed</li><h1 class=encadreur style=\\\"color: #1E90FF\\\">ENCADRE PAR</h1><li class=encadreur>DAHAK Fouad</li><li class=encadreur>AZOUAOU Faical</li></div></div></div><div class=\\\"item active\\\"><div class=container><div class=carousel-caption><h1>SoMap</h1><p>SoMap est une plateforme web qui permet de, rechercher des services sociaux sur l’ensemble du territoire Algérien, de les filtrer par type, par wilaya ou par localisation et de les afficher sur une carte en ligne.</p></div></div></div></div><a class=\\\"left carousel-control\\\" href=#carousel-id data-slide=prev><span class=\\\"glyphicon glyphicon-chevron-left\\\"></span> </a><a class=\\\"right carousel-control\\\" href=#carousel-id data-slide=next><span class=\\\"glyphicon glyphicon-chevron-right\\\"></span></a></div></div></md-dialog-content></md-dialog>\");\n$templateCache.put(\"app/home/views/institution/institution.html\",\"<form name=institutionForm novalidate flex=50 layout=column layout-align=\\\"center stretch\\\" class=institution-info><h2 layout=row layout-align=center>Ajouter Une Institution</h2><md-input-container flex><label>Dénomination</label><input type=text name=denomination ng-model=vmIns.institution.denomination required><div ng-messages=institutionForm.denomination.$error ng-if=\\\"institutionForm.denomination.$touched || institutionForm.$submitted\\\" role=alert><div ng-message=required>Ce champ est obligatoire.</div></div></md-input-container><div layout=row><md-input-container flex><label>Numéro Téléphone</label><input type=text name=phone ng-model=vmIns.institution.phone required><div ng-messages=institutionForm.phone.$error ng-if=\\\"institutionForm.phone.$touched || institutionForm.$submitted\\\" role=alert><div ng-message=required>Ce champ est obligatoire.</div></div></md-input-container><md-input-container flex><label>Numéro Fax</label><input type=text name=fax ng-model=vmIns.institution.fax><div ng-messages=institutionForm.fax.$error ng-if=\\\"institutionForm.fax.$touched || institutionForm.$submitted\\\" role=alert></div></md-input-container></div><div layout=row flex><md-input-container flex><label>Type Institution</label><md-select ng-model=vmIns.institution.class_id name=institutionclasse required><md-optgroup label=\\\"Type Institution\\\"><md-option ng-value=institutionClasse.id ng-repeat=\\\"institutionClasse in vmIns.institutionClasses\\\" style=\\\"text-transform: capitalize\\\">{{institutionClasse.denomination}}</md-option></md-optgroup></md-select><div ng-messages=institutionForm.institutionclasse.$error ng-if=\\\"institutionForm.institutionclasse.$touched || institutionForm.$submitted\\\" role=alert><div ng-message=required>Ce champ est obligatoire.</div></div></md-input-container><md-input-container flex><label>Wilayas</label><md-select ng-model=vmIns.institution.wilaya_id name=wilaya required><md-optgroup label=wilaya><md-option ng-value=wilaya.id ng-repeat=\\\"wilaya in vmIns.wilayas\\\" style=\\\"text-transform: capitalize\\\">{{wilaya.name}}</md-option></md-optgroup></md-select><div ng-messages=institutionForm.wilaya.$error ng-if=\\\"institutionForm.wilaya.$touched || institutionForm.$submitted\\\" role=alert><div ng-message=required>Ce champ est obligatoire.</div></div></md-input-container><md-input-container flex><label>Communes</label><md-select ng-model=vmIns.institution.commune_id md-on-open=vmIns.loadCommunes() name=commune required><md-optgroup label=commune><md-option ng-value=commune.id ng-repeat=\\\"commune in vmIns.selectedWilaya.communes\\\" style=\\\"text-transform: capitalize\\\">{{commune.name}}</md-option></md-optgroup></md-select><div ng-messages=institutionForm.commune.$error ng-if=\\\"institutionForm.commune.$touched || institutionForm.$submitted\\\" role=alert><div ng-message=required>Ce champ est obligatoire.</div></div></md-input-container></div><div layout=row flex><md-input-container flex><label>Adresse</label><input type=text name=address ng-model=vmIns.institution.address required><div ng-messages=institutionForm.address.$error ng-if=\\\"institutionForm.address.$touched || institutionForm.$submitted\\\" role=alert><div ng-message=required>Ce champ est obligatoire.</div></div></md-input-container><md-button class=\\\"md-raised md-primary\\\" ng-click=vmIns.getCoordinates() style=height:10px>Vérifier l\\'adresse</md-button></div><ng-map zoom=15 on-click=vmIns.onMapClicked(event) style=margin-bottom:20px><marker ng-if=\\\"vmIns.markers.length === 0\\\" position=current animation=Animation.BOUNCE centered=true></marker><marker ng-if=\\\"vmIns.markers.length > 0\\\" animation=Animation.BOUNCE ng-repeat=\\\"marker in vmIns.markers\\\" id={{marker.id}} position=\\\"{{marker.lat+\\',\\'+marker.lng}}\\\" visible></marker></ng-map><md-input-container flex><label>Description</label><input type=text name=description ng-model=vmIns.institution.description><div ng-messages=institutionForm.description.$error ng-if=\\\"institutionForm.description.$touched || institutionForm.$submitted\\\" role=alert></div></md-input-container><span></span><div class=form-group style=text-align:center><div class=col-sm-12><input type=file ngf-select ng-model=vmIns.institution_image name=file ngf-pattern=\\\" \\'image/*\\' \\\" ngf-accept=\\\" \\'image/*\\' \\\"></div></div><div layout=row layout-align=\\\"center center\\\"><md-button type=submit class=\\\"md-raised md-primary\\\" ng-click=vmIns.addInstitution() ng-disabled=\\\"vmIns.disabled || institutionForm.$invalid || institutionForm.$pristine\\\">Ajouter L\\'institution</md-button></div></form>\");\n$templateCache.put(\"app/home/views/institution-detail/institution-detail.html\",\"<div layout=column layout-align=\\\"center center\\\" layout-fill><h1 style=\\\"text-align: center\\\">Détail d\\'institution</h1><div><h3>{{vmIns.institution.denomination}}</h3><div><h3>{{vmIns.institutionClasses[vmIns.institution.class_id].denomination}}</h3><p>{{vmIns.institution.description}}</p><h4>Contacts</h4><p>Adresse: {{vmIns.institution.wilaya}}, {{vmIns.institution.commune.name}}, {{vmIns.institution.address}}<br><br>Téléphone: {{vmIns.institution.phone}}<br>Fax: {{vmIns.institution.fax}}</p></div></div><img src={{vmIns.institution.picture.path}} alt=\\\"\\\" style=width:40%></div>\");}]);"],"sourceRoot":"/source/"}